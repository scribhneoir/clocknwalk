{"version":3,"file":"Calendar.stories.47390a3e.js","sources":["../../src/hooks/calendar.ts","../../src/models/schedule.ts","../../src/pages/Calendar/Calendar.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\n\nimport Schedule from \"../models/schedule\";\n\nexport const useCalendarGrid = (schedule: Schedule) => {\n  const [calendarGrid, setCalendarGrid] = useState<Array<any>>([]);\n\n  useEffect(() => {\n    const first = new Date(schedule.year, schedule.month, 1).getDay();\n    const nDays = new Date(schedule.year, schedule.month, 0).getDate();\n\n    let days: Array<any> = [];\n    for (let i = 0; i < nDays + first; i++) {\n      if (i < first) {\n        days.push({});\n      } else {\n        days.push({ ...schedule.data[i - first] });\n      }\n    }\n    setCalendarGrid(days);\n  }, [schedule]);\n\n  return [calendarGrid];\n};\n","export default class Schedule {\n  month: number;\n  year: number;\n  data: Array<any>;\n  constructor(month: number, year: number, data?: Array<any>) {\n    this.year = year;\n    this.month = month;\n    if (!data) {\n      data = [];\n      const nDays = new Date(year, month, 0).getDate();\n      for (let i = 1; i <= nDays; i++) {\n        data.push({ date: new Date(year, month, i) });\n      }\n    }\n    this.data = data;\n  }\n}\n","import { useState } from \"react\";\nimport Card from \"../../components/Atoms/Card\";\nimport { useCalendarGrid } from \"../../hooks/calendar\";\nimport Schedule from \"../../models/schedule\";\nimport Availabillity from \"./Availabillity\";\nimport { CalendarProps } from \"./Calendar.models\";\n\nconst Calendar = (props: CalendarProps) => {\n  const [availabillity, setAvailabillity] = useState(\n    new Schedule((new Date().getMonth() % 12) + 1, new Date().getFullYear())\n  );\n  const [aCalGrid] = useCalendarGrid(availabillity);\n  const onClear = () => {\n    setAvailabillity(\n      new Schedule((new Date().getMonth() % 12) + 1, new Date().getFullYear())\n    );\n  };\n  const onAvailabillityChange = (date: number) => {\n    let { data } = availabillity;\n    switch (data[date].type) {\n      case \"AVAILABLE\":\n        data[date].type = \"CLOCK\";\n        break;\n      case \"CLOCK\":\n        data[date].type = \"WALK\";\n        break;\n      case \"WALK\":\n        data[date].type = \"\";\n        break;\n      default:\n        data[date].type = \"AVAILABLE\";\n    }\n    setAvailabillity({ ...availabillity, data });\n  };\n  return (\n    <Card>\n      <Availabillity\n        onClear={onClear}\n        aCalGrid={aCalGrid}\n        onAvailabillityChange={onAvailabillityChange}\n        month={availabillity.data[0].date.toLocaleString(\"default\", {\n          month: \"long\",\n        })}\n      />\n    </Card>\n  );\n};\n\nexport default Calendar;\n"],"names":["useState","useEffect","_jsx","setAvailabillity","data","type","availabillity"],"mappings":"4nCAIa,KAAA,GAAkB,AAAC,GAAuB,CACrD,KAAM,CAAC,EAAc,GAAmBA,EAAA,QAAA,SAAqB,CAAE,CAAA,EAE/DC,SAAAA,QAAAA,UAAU,IAAM,CACR,KAAA,GAAQ,GAAI,MAAK,EAAS,KAAM,EAAS,MAAO,CAAC,EAAE,SACnD,EAAQ,GAAI,MAAK,EAAS,KAAM,EAAS,MAAO,CAAC,EAAE,UAEzD,GAAI,GAAmB,CAAA,EACvB,OAAS,GAAI,EAAG,EAAI,EAAQ,EAAO,IACjC,AAAI,EAAI,EACD,EAAA,KAAK,CAAA,CAAE,EAEZ,EAAK,KAAK,KAAK,EAAS,KAAK,EAAI,GAAQ,EAG7C,EAAgB,CAAI,CAAA,EACnB,CAAC,CAAQ,CAAC,EAEN,CAAC,CAAY,CACtB,ECvBA,MAAqB,CAAS,CAI5B,YAAY,EAAe,EAAc,EAAmB,CAH5D,gBACA,eACA,eAIE,GAFA,KAAK,KAAO,EACZ,KAAK,MAAQ,EACT,CAAC,EAAM,CACT,EAAO,CAAA,EACP,KAAM,GAAQ,GAAI,MAAK,EAAM,EAAO,CAAC,EAAE,UACvC,OAAS,GAAI,EAAG,GAAK,EAAO,IACrB,EAAA,KAAK,CAAE,KAAM,GAAI,MAAK,EAAM,EAAO,CAAC,CAAA,CAAG,CAEhD,CACA,KAAK,KAAO,CACd,CACF,CCTA,KAAA,GAAA,AAAA,GAAA,CACE,KAAA,CAAA,EAAA,GAAAD,EAAAA,QAAAA,SAAA,GAAA,GAAA,GAAA,MAAA,EAAA,SAAA,EAAA,GAAA,EAAA,GAAA,MAAA,EAAA,YAAA,CAAA,CAAA,EAGA,CAAA,GAAA,EAAA,CAAA,EAuBA,MAAAE,GAAA,EAAA,CACE,SAAAA,EAAA,EAAA,CACE,QAxBJ,IAAA,CACEC,EAAAA,GAAAA,GAAAA,GAAAA,MAAAA,EAAAA,SAAAA,EAAAA,GAAAA,EAAAA,GAAAA,MAAAA,EAAAA,YAAAA,CAAAA,CAAAA,CAAgB,EAwBZ,WACA,sBArBN,AAAA,GAAA,CACE,GAAA,CAAI,QAAEC,EACN,OAAA,EAAA,GAAA,UAAmBC,YAEfD,EAAAA,GAAAA,KAAAA,QACA,UAAA,QAEAA,EAAAA,GAAAA,KAAAA,OACA,UAAA,OAEAA,EAAAA,GAAAA,KAAAA,GACA,cAEAA,EAAAA,GAAAA,KAAAA,YAEJD,EAAAA,OAAiB,GAAjBA,CAAsBG,MAAeF,EAAAA,CAArB,EAOZ,MAAA,EAAA,KAAA,GAAA,KAAA,eAAA,UAAA,CAC4D,MAAA,MACnD,CAAA,CADF,CAAA,CAJT,CAAA,CAUL"}